{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../categories.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../components/category-list/category-list.component\";\nimport * as i4 from \"../../components/create-category-modal/create-category-modal.component\";\nimport * as i5 from \"../../components/update-category-modal/update-category-modal.component\";\nimport * as i6 from \"../../components/delete-category-modal/delete-category-modal.component\";\nfunction CategoriesPage_app_create_category_modal_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-create-category-modal\", 6);\n    i0.ɵɵlistener(\"createdCategory\", function CategoriesPage_app_create_category_modal_6_Template_app_create_category_modal_createdCategory_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToCategories($event));\n    })(\"close\", function CategoriesPage_app_create_category_modal_6_Template_app_create_category_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.disableCreateMode());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriesPage_app_update_category_modal_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-update-category-modal\", 7);\n    i0.ɵɵlistener(\"updatedCategory\", function CategoriesPage_app_update_category_modal_7_Template_app_update_category_modal_updatedCategory_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.replaceCategory($event));\n    })(\"close\", function CategoriesPage_app_update_category_modal_7_Template_app_update_category_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.disableEditMode());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"category\", ctx_r1.categoryToUpdate);\n  }\n}\nfunction CategoriesPage_app_delete_category_modal_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-delete-category-modal\", 8);\n    i0.ɵɵlistener(\"remove\", function CategoriesPage_app_delete_category_modal_8_Template_app_delete_category_modal_remove_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.removeCategory());\n    })(\"close\", function CategoriesPage_app_delete_category_modal_8_Template_app_delete_category_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.disableDeleteMode());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"category\", ctx_r2.categoryToDelete);\n  }\n}\nexport class CategoriesPage {\n  constructor(categoryService) {\n    this.categoryService = categoryService;\n    this.createMode = false;\n    this.editMode = false;\n    this.deleteMode = false;\n    this.categoryToUpdate = null;\n    this.categoryToDelete = null;\n  }\n  getCategories() {\n    this.categoryService.get().subscribe(categories => this.categories = categories, err => console.error(err.error.message));\n  }\n  addToCategories(category) {\n    this.categories.unshift(category);\n  }\n  replaceCategory(category) {\n    const categoryToUpdate = this.categories.find(item => item.id === category.id);\n    const index = this.categories.indexOf(categoryToUpdate);\n    this.categories.splice(index, 1, category);\n  }\n  removeCategory() {\n    this.categories = this.categories.filter(category => category.id !== this.categoryToDelete.id);\n  }\n  enableCreateMode() {\n    this.createMode = true;\n  }\n  disableCreateMode() {\n    this.createMode = false;\n  }\n  enableEditMode(category) {\n    this.editMode = true;\n    this.categoryToUpdate = JSON.parse(JSON.stringify(category));\n  }\n  disableEditMode() {\n    this.editMode = false;\n    this.categoryToUpdate = null;\n  }\n  enableDeleteMode(category) {\n    this.deleteMode = true;\n    this.categoryToDelete = JSON.parse(JSON.stringify(category));\n  }\n  disableDeleteMode() {\n    this.deleteMode = false;\n    this.categoryToDelete = null;\n  }\n  ngOnInit() {\n    this.getCategories();\n  }\n}\nCategoriesPage.ɵfac = function CategoriesPage_Factory(t) {\n  return new (t || CategoriesPage)(i0.ɵɵdirectiveInject(i1.CategoryService));\n};\nCategoriesPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoriesPage,\n  selectors: [[\"app-categries\"]],\n  decls: 9,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"create-button\", 3, \"click\"], [3, \"categories\", \"categoryToEdit\", \"categoryToDelete\"], [3, \"createdCategory\", \"close\", 4, \"ngIf\"], [3, \"category\", \"updatedCategory\", \"close\", 4, \"ngIf\"], [3, \"category\", \"remove\", \"close\", 4, \"ngIf\"], [3, \"createdCategory\", \"close\"], [3, \"category\", \"updatedCategory\", \"close\"], [3, \"category\", \"remove\", \"close\"]],\n  template: function CategoriesPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Categories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function CategoriesPage_Template_button_click_3_listener() {\n        return ctx.enableCreateMode();\n      });\n      i0.ɵɵtext(4, \" Create \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"app-category-list\", 2);\n      i0.ɵɵlistener(\"categoryToEdit\", function CategoriesPage_Template_app_category_list_categoryToEdit_5_listener($event) {\n        return ctx.enableEditMode($event);\n      })(\"categoryToDelete\", function CategoriesPage_Template_app_category_list_categoryToDelete_5_listener($event) {\n        return ctx.enableDeleteMode($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(6, CategoriesPage_app_create_category_modal_6_Template, 1, 0, \"app-create-category-modal\", 3);\n      i0.ɵɵtemplate(7, CategoriesPage_app_update_category_modal_7_Template, 1, 1, \"app-update-category-modal\", 4);\n      i0.ɵɵtemplate(8, CategoriesPage_app_delete_category_modal_8_Template, 1, 1, \"app-delete-category-modal\", 5);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"categories\", ctx.categories);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.createMode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.editMode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.deleteMode);\n    }\n  },\n  dependencies: [i2.NgIf, i3.CategoryListComponent, i4.CreateCategoryModalComponent, i5.UpdateCategoryModalComponent, i6.DeleteCategoryModalComponent],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 450px;\\n  margin: 0 auto;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n.container[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 25px;\\n  right: 0;\\n  height: 30px;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9jYXRlZ29yaWVzL3BhZ2VzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5wYWdlLnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi8lRDAlQTAlRDAlQjAlRDAlQjElRDAlQkUlRDElODclRDAlQjglRDAlQjklMjAlRDElODElRDElODIlRDAlQkUlRDAlQkIvJUQwJTlEJUQwJUJFJUQwJUIyJUQwJUIwJUQxJThGJTIwJUQwJUJGJUQwJUIwJUQwJUJGJUQwJUJBJUQwJUIwJTIwKDgpL2NsaWVudC9zcmMvYXBwL21vZHVsZXMvY2F0ZWdvcmllcy9wYWdlcy9jYXRlZ29yaWVzL2NhdGVnb3JpZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxZQUFBO0FDQ1I7O0FER0E7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0FDQUoiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDQ1MHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBcbiAgICAmIC5jcmVhdGUtYnV0dG9uIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDI1cHg7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgfVxufVxuXG5oMiB7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59IiwiLmNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDQ1MHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uY29udGFpbmVyIC5jcmVhdGUtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDI1cHg7XG4gIHJpZ2h0OiAwO1xuICBoZWlnaHQ6IDMwcHg7XG59XG5cbmgyIHtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAgBAA,oDAGkC;IAD9BA;MAAAA;MAAA;MAAA,OAAmBA,6CAAuB;IAAA,EAAC;MAAAA;MAAA;MAAA,OAClCA,yCAAmB;IAAA,EADe;IAE/CA,iBAA4B;;;;;;IAE5BA,oDAIgC;IAD5BA;MAAAA;MAAA;MAAA,OAAmBA,6CAAuB;IAAA,EAAC;MAAAA;MAAA;MAAA,OAClCA,uCAAiB;IAAA,EADiB;IAE/CA,iBAA4B;;;;IAHxBA,kDAA8B;;;;;;IAKlCA,oDAIkC;IAD9BA;MAAAA;MAAA;MAAA,OAAUA,sCAAgB;IAAA,EAAC;MAAAA;MAAA;MAAA,OAClBA,0CAAmB;IAAA,EADD;IAE/BA,iBAA4B;;;;IAHxBA,kDAA8B;;;ACrBlC,OAAM,MAAOC,cAAc;EASvBC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IANnC,eAAU,GAAG,KAAK;IAClB,aAAQ,GAAG,KAAK;IAChB,eAAU,GAAG,KAAK;IAClB,qBAAgB,GAAoB,IAAI;IACxC,qBAAgB,GAAoB,IAAI;EAEgB;EAExDC,aAAa;IACT,IAAI,CAACD,eAAe,CAACE,GAAG,EAAE,CAACC,SAAS,CAChCC,UAAU,IAAI,IAAI,CAACA,UAAU,GAAGA,UAAU,EAC1CC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC,CAC1C;EACL;EAEAC,eAAe,CAACC,QAAkB;IAC9B,IAAI,CAACN,UAAU,CAACO,OAAO,CAACD,QAAQ,CAAC;EACrC;EAEAE,eAAe,CAACF,QAAkB;IAC9B,MAAMG,gBAAgB,GAAG,IAAI,CAACT,UAAU,CAACU,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,QAAQ,CAACM,EAAE,CAAE;IAC/E,MAAMC,KAAK,GAAG,IAAI,CAACb,UAAU,CAACc,OAAO,CAACL,gBAAgB,CAAC;IACvD,IAAI,CAACT,UAAU,CAACe,MAAM,CAACF,KAAK,EAAE,CAAC,EAAEP,QAAQ,CAAC;EAC9C;EAEAU,cAAc;IACV,IAAI,CAAChB,UAAU,GAAG,IAAI,CAACA,UAAU,CAACiB,MAAM,CAACX,QAAQ,IAC7CA,QAAQ,CAACM,EAAE,KAAK,IAAI,CAACM,gBAAiB,CAACN,EAAE,CAAC;EAClD;EAEAO,gBAAgB;IACZ,IAAI,CAACC,UAAU,GAAG,IAAI;EAC1B;EAEAC,iBAAiB;IACb,IAAI,CAACD,UAAU,GAAG,KAAK;EAC3B;EAEAE,cAAc,CAAChB,QAAkB;IAC7B,IAAI,CAACiB,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACd,gBAAgB,GAAGe,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACpB,QAAQ,CAAC,CAAC;EAChE;EAEAqB,eAAe;IACX,IAAI,CAACJ,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACd,gBAAgB,GAAG,IAAI;EAChC;EAEAmB,gBAAgB,CAACtB,QAAkB;IAC/B,IAAI,CAACuB,UAAU,GAAG,IAAI;IACtB,IAAI,CAACX,gBAAgB,GAAGM,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACpB,QAAQ,CAAC,CAAC;EAChE;EAEAwB,iBAAiB;IACb,IAAI,CAACD,UAAU,GAAG,KAAK;IACvB,IAAI,CAACX,gBAAgB,GAAG,IAAI;EAChC;EAEAa,QAAQ;IACJ,IAAI,CAAClC,aAAa,EAAE;EACxB;;AA/DSH,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAsC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV3B3C,8BAAuB;MACfA,0BAAU;MAAAA,iBAAK;MAEnBA,iCAEiC;MAA7BA;QAAA,OAAS4C,sBAAkB;MAAA,EAAC;MAC5B5C,wBACJ;MAAAA,iBAAS;MAETA,4CAGkD;MAD9CA;QAAA,OAAkB4C,0BAAsB;MAAA,EAAC;QAAA,OACrBA,4BAAwB;MAAA,EADH;MAE7C5C,iBAAoB;MAGxBA,2GAI4B;MAE5BA,2GAK4B;MAE5BA,2GAK4B;;;MAxBpBA,eAAyB;MAAzBA,2CAAyB;MAO5BA,eAAgB;MAAhBA,qCAAgB;MAMhBA,eAAc;MAAdA,mCAAc;MAOdA,eAAgB;MAAhBA,qCAAgB","names":["i0","CategoriesPage","constructor","categoryService","getCategories","get","subscribe","categories","err","console","error","message","addToCategories","category","unshift","replaceCategory","categoryToUpdate","find","item","id","index","indexOf","splice","removeCategory","filter","categoryToDelete","enableCreateMode","createMode","disableCreateMode","enableEditMode","editMode","JSON","parse","stringify","disableEditMode","enableDeleteMode","deleteMode","disableDeleteMode","ngOnInit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\pages\\categories\\categories.page.html","C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\pages\\categories\\categories.page.ts"],"sourcesContent":["<div class=\"container\">\n    <h2>Categories</h2>\n\n    <button\n        class=\"create-button\"\n        (click)=\"enableCreateMode()\">\n        Create\n    </button>\n\n    <app-category-list\n        [categories]=\"categories\"\n        (categoryToEdit)=\"enableEditMode($event)\"\n        (categoryToDelete)=\"enableDeleteMode($event)\">\n    </app-category-list>\n</div>\n\n<app-create-category-modal\n    *ngIf=\"createMode\"\n    (createdCategory)=\"addToCategories($event)\"\n    (close)=\"disableCreateMode()\">\n</app-create-category-modal>\n\n<app-update-category-modal\n    *ngIf=\"editMode\"\n    [category]=\"categoryToUpdate!\"\n    (updatedCategory)=\"replaceCategory($event)\"\n    (close)=\"disableEditMode()\">\n</app-update-category-modal>\n\n<app-delete-category-modal\n    *ngIf=\"deleteMode\"\n    [category]=\"categoryToDelete!\"\n    (remove)=\"removeCategory()\"\n    (close)=\"disableDeleteMode()\">\n</app-delete-category-modal>","import { Component, OnInit } from '@angular/core';\n\nimport { Category } from '../../category.model';\nimport { CategoryService } from '../../categories.service';\n\n@Component({\n    selector: 'app-categries',\n    templateUrl: './categories.page.html',\n    styleUrls: ['./categories.page.scss']\n})\nexport class CategoriesPage implements OnInit {\n    categories!: Category[];\n\n    createMode = false;\n    editMode = false;\n    deleteMode = false;\n    categoryToUpdate: Category | null = null;\n    categoryToDelete: Category | null = null;\n\n    constructor(private categoryService: CategoryService) { }\n\n    getCategories(): void {\n        this.categoryService.get().subscribe(\n            categories => this.categories = categories,\n            err => console.error(err.error.message)\n        );\n    }\n\n    addToCategories(category: Category): void {\n        this.categories.unshift(category);\n    }\n\n    replaceCategory(category: Category): void {\n        const categoryToUpdate = this.categories.find(item => item.id === category.id)!;\n        const index = this.categories.indexOf(categoryToUpdate);\n        this.categories.splice(index, 1, category);\n    }\n\n    removeCategory(): void {\n        this.categories = this.categories.filter(category =>\n            category.id !== this.categoryToDelete!.id);\n    }\n\n    enableCreateMode(): void {\n        this.createMode = true;\n    }\n\n    disableCreateMode(): void {\n        this.createMode = false;\n    }\n\n    enableEditMode(category: Category): void {\n        this.editMode = true;\n        this.categoryToUpdate = JSON.parse(JSON.stringify(category));\n    }\n\n    disableEditMode(): void {\n        this.editMode = false;\n        this.categoryToUpdate = null;\n    }\n\n    enableDeleteMode(category: Category): void {\n        this.deleteMode = true;\n        this.categoryToDelete = JSON.parse(JSON.stringify(category));\n    }\n\n    disableDeleteMode(): void {\n        this.deleteMode = false;\n        this.categoryToDelete = null;\n    }\n\n    ngOnInit(): void {\n        this.getCategories();\n    }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
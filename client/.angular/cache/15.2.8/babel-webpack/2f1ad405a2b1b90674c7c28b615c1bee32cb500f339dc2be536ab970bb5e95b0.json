{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./modules/auth/auth.service\";\nimport * as i2 from \"./modules/savings/savings.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./core/header/header.component\";\nexport class AppComponent {\n  constructor(authService, savingsService) {\n    this.authService = authService;\n    this.savingsService = savingsService;\n    this.title = 'Budget manager';\n    this.user = null;\n    this.balance = null;\n    this.destroy$ = new Subject();\n  }\n  logout() {\n    this.authService.logout();\n  }\n  ngOnInit() {\n    this.authService.currentUser$.pipe(takeUntil(this.destroy$)).subscribe(user => this.user = user);\n    this.savingsService.balance$.pipe(takeUntil(this.destroy$)).subscribe(balance => this.balance = balance);\n    if (this.user) {\n      this.savingsService.getBalance().subscribe();\n    }\n  }\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.SavingsService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"user\", \"balance\", \"logout\"], [1, \"container\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"app-header\", 0);\n      i0.ɵɵlistener(\"logout\", function AppComponent_Template_app_header_logout_0_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"router-outlet\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"user\", ctx.user)(\"balance\", ctx.balance);\n    }\n  },\n  dependencies: [i3.RouterOutlet, i4.HeaderComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,OAAO,QAAQ,MAAM;AAC9B,SAASC,SAAS,QAAQ,gBAAgB;;;;;;AAW1C,OAAM,MAAOC,YAAY;EAOrBC,YACYC,WAAwB,EACxBC,cAA8B;IAD9B,gBAAW,GAAXD,WAAW;IACX,mBAAc,GAAdC,cAAc;IAR1B,UAAK,GAAG,gBAAgB;IACxB,SAAI,GAAgB,IAAI;IACxB,YAAO,GAAmB,IAAI;IAE9B,aAAQ,GAAG,IAAIL,OAAO,EAAE;EAKpB;EAEJM,MAAM;IACF,IAAI,CAACF,WAAW,CAACE,MAAM,EAAE;EAC7B;EAEAC,QAAQ;IACJ,IAAI,CAACH,WAAW,CAACI,YAAY,CAACC,IAAI,CAC9BR,SAAS,CAAC,IAAI,CAACS,QAAQ,CAAC,CAAC,CAACC,SAAS,CAACC,IAAI,IAAI,IAAI,CAACA,IAAI,GAAGA,IAAI,CAAC;IAEjE,IAAI,CAACP,cAAc,CAACQ,QAAQ,CAACJ,IAAI,CAC7BR,SAAS,CAAC,IAAI,CAACS,QAAQ,CAAC,CAAC,CAACC,SAAS,CAACG,OAAO,IAAI,IAAI,CAACA,OAAO,GAAGA,OAAO,CAAC;IAE1E,IAAI,IAAI,CAACF,IAAI,EAAE;MACX,IAAI,CAACP,cAAc,CAACU,UAAU,EAAE,CAACJ,SAAS,EAAE;;EAEpD;EAEAK,WAAW;IACP,IAAI,CAACN,QAAQ,CAACO,IAAI,CAAC,IAAI,CAAC;IACxB,IAAI,CAACP,QAAQ,CAACQ,QAAQ,EAAE;EAC5B;;AA/BShB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCbzBC,qCAGwB;MAApBA;QAAA,OAAUC,YAAQ;MAAA,EAAC;MACvBD,iBAAa;MAEbA,8BAAuB;MACnBA,gCAA+B;MACnCA,iBAAM;;;MAPFA,+BAAa","names":["Subject","takeUntil","AppComponent","constructor","authService","savingsService","logout","ngOnInit","currentUser$","pipe","destroy$","subscribe","user","balance$","balance","getBalance","ngOnDestroy","next","complete","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\app.component.ts","C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { User } from './modules/user/user.model';\nimport { AuthService } from './modules/auth/auth.service';\nimport { SavingsService } from './modules/savings/savings.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n    title = 'Budget manager';\n    user: User | null = null;\n    balance: number | null  = null;\n\n    destroy$ = new Subject();\n\n    constructor(\n        private authService: AuthService,\n        private savingsService: SavingsService,\n    ) { }\n\n    logout(): void {\n        this.authService.logout();\n    }\n\n    ngOnInit(): void {\n        this.authService.currentUser$.pipe(\n            takeUntil(this.destroy$)).subscribe(user => this.user = user);\n            \n        this.savingsService.balance$.pipe(\n            takeUntil(this.destroy$)).subscribe(balance => this.balance = balance);\n\n        if (this.user) {\n            this.savingsService.getBalance().subscribe()\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}","<app-header\n    [user]=\"user\"\n    [balance]=\"balance\"\n    (logout)=\"logout()\">\n</app-header>\n\n<div class=\"container\">\n    <router-outlet></router-outlet>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
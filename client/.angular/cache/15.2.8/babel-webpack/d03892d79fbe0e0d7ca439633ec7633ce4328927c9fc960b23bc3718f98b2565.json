{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CategoriesPage = class CategoriesPage {\n  constructor(categoriesService) {\n    this.categoriesService = categoriesService;\n    this.categories = [];\n    this.createMode = false;\n    this.editMode = false;\n    this.deleteMode = false;\n    this.categoryToUpdate = null;\n    this.categoryToDelete = null;\n  }\n  findCategories() {\n    this.categoriesService.findAll({\n      page: 1,\n      limit: 100\n    }).subscribe(data => this.categories = data.rows);\n  }\n  createCategory(operation) {\n    this.categoriesService.create(operation).subscribe(() => this.findCategories());\n  }\n  updateCategory(operation) {\n    this.categoriesService.update(operation).subscribe(() => this.findCategories());\n  }\n  deleteCategory(id) {\n    this.categoriesService.delete(id).subscribe(() => this.findCategories());\n  }\n  enableCreateMode() {\n    this.createMode = true;\n  }\n  disableCreateMode() {\n    this.createMode = false;\n  }\n  enableEditMode(category) {\n    this.editMode = true;\n    this.categoryToUpdate = category;\n  }\n  disableEditMode() {\n    this.editMode = false;\n    this.categoryToUpdate = null;\n  }\n  enableDeleteMode(category) {\n    this.deleteMode = true;\n    this.categoryToDelete = category;\n  }\n  disableDeleteMode() {\n    this.deleteMode = false;\n    this.categoryToDelete = null;\n  }\n  ngOnInit() {\n    this.findCategories();\n  }\n};\nCategoriesPage = __decorate([Component({\n  selector: 'app-categries',\n  templateUrl: './categories.page.html',\n  styleUrls: ['./categories.page.scss']\n})], CategoriesPage);\nexport { CategoriesPage };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAa1C,IAAMC,cAAc,GAApB,MAAMA,cAAc;EASvBC,YAAoBC,iBAAoC;IAApC,sBAAiB,GAAjBA,iBAAiB;IARrC,eAAU,GAAe,EAAE;IAE3B,eAAU,GAAG,KAAK;IAClB,aAAQ,GAAG,KAAK;IAChB,eAAU,GAAG,KAAK;IAClB,qBAAgB,GAAoB,IAAI;IACxC,qBAAgB,GAAoB,IAAI;EAEoB;EAE5DC,cAAc;IACV,IAAI,CAACD,iBAAiB,CAACE,OAAO,CAAC;MAAEC,IAAI,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAG,CAAE,CAAC,CAACC,SAAS,CAC7DC,IAAI,IAAI,IAAI,CAACC,UAAU,GAAGD,IAAI,CAACE,IAAI,CACtC;EACL;EAEAC,cAAc,CAACC,SAAyB;IACpC,IAAI,CAACV,iBAAiB,CAACW,MAAM,CAACD,SAAS,CAAC,CAACL,SAAS,CAC9C,MAAM,IAAI,CAACJ,cAAc,EAAE,CAC9B;EACL;EAEAW,cAAc,CAACF,SAAyB;IACpC,IAAI,CAACV,iBAAiB,CAACa,MAAM,CAACH,SAAS,CAAC,CAACL,SAAS,CAC9C,MAAM,IAAI,CAACJ,cAAc,EAAE,CAC9B;EACL;EAEAa,cAAc,CAACC,EAAU;IACrB,IAAI,CAACf,iBAAiB,CAACgB,MAAM,CAACD,EAAE,CAAC,CAACV,SAAS,CACvC,MAAM,IAAI,CAACJ,cAAc,EAAE,CAC9B;EACL;EAEAgB,gBAAgB;IACZ,IAAI,CAACC,UAAU,GAAG,IAAI;EAC1B;EAEAC,iBAAiB;IACb,IAAI,CAACD,UAAU,GAAG,KAAK;EAC3B;EAEAE,cAAc,CAACC,QAAkB;IAC7B,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,gBAAgB,GAAGF,QAAQ;EACpC;EAEAG,eAAe;IACX,IAAI,CAACF,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,gBAAgB,GAAG,IAAI;EAChC;EAEAE,gBAAgB,CAACJ,QAAkB;IAC/B,IAAI,CAACK,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,gBAAgB,GAAGN,QAAQ;EACpC;EAEAO,iBAAiB;IACb,IAAI,CAACF,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,gBAAgB,GAAG,IAAI;EAChC;EAEAE,QAAQ;IACJ,IAAI,CAAC5B,cAAc,EAAE;EACzB;CACH;AAlEYH,cAAc,eAL1BD,SAAS,CAAC;EACPiC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACvC,CAAC,GACWlC,cAAc,CAkE1B;SAlEYA,cAAc","names":["Component","CategoriesPage","constructor","categoriesService","findCategories","findAll","page","limit","subscribe","data","categories","rows","createCategory","operation","create","updateCategory","update","deleteCategory","id","delete","enableCreateMode","createMode","disableCreateMode","enableEditMode","category","editMode","categoryToUpdate","disableEditMode","enableDeleteMode","deleteMode","categoryToDelete","disableDeleteMode","ngOnInit","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\pages\\categories\\categories.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { Category } from '../../interfaces/category.interface';\nimport { CategoriesService } from '../../categories.service';\nimport { CreateCategory } from '../../interfaces/create-category.interface';\nimport { UpdateCategory } from '../../interfaces/update-category.interface';\n\n\n@Component({\n    selector: 'app-categries',\n    templateUrl: './categories.page.html',\n    styleUrls: ['./categories.page.scss']\n})\nexport class CategoriesPage implements OnInit {\n    categories: Category[] = [];\n\n    createMode = false;\n    editMode = false;\n    deleteMode = false;\n    categoryToUpdate: Category | null = null;\n    categoryToDelete: Category | null = null;\n\n    constructor(private categoriesService: CategoriesService) { }\n\n    findCategories() {\n        this.categoriesService.findAll({ page: 1, limit: 100 }).subscribe(\n            data => this.categories = data.rows,\n        );\n    }\n    \n    createCategory(operation: CreateCategory) {\n        this.categoriesService.create(operation).subscribe(\n            () => this.findCategories()\n        );\n    }\n\n    updateCategory(operation: UpdateCategory) {\n        this.categoriesService.update(operation).subscribe(\n            () => this.findCategories()\n        );\n    }\n\n    deleteCategory(id: number) {\n        this.categoriesService.delete(id).subscribe(\n            () => this.findCategories()\n        );\n    }\n\n    enableCreateMode() {\n        this.createMode = true;\n    }\n\n    disableCreateMode() {\n        this.createMode = false;\n    }\n\n    enableEditMode(category: Category) {\n        this.editMode = true;\n        this.categoryToUpdate = category;\n    }\n\n    disableEditMode() {\n        this.editMode = false;\n        this.categoryToUpdate = null;\n    }\n\n    enableDeleteMode(category: Category) {\n        this.deleteMode = true;\n        this.categoryToDelete = category;\n    }\n\n    disableDeleteMode() {\n        this.deleteMode = false;\n        this.categoryToDelete = null;\n    }\n\n    ngOnInit() {\n        this.findCategories();\n    }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
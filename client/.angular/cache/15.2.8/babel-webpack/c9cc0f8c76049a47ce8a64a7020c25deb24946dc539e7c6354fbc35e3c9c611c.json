{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction UpdateCategoryModalComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateCategoryModalComponent_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Only latin characters and numbers allowed\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateCategoryModalComponent_div_11_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Min length equals to 4 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateCategoryModalComponent_div_11_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Max length equals to 12 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UpdateCategoryModalComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, UpdateCategoryModalComponent_div_11_div_1_Template, 2, 0, \"div\", 11);\n    i0.ɵɵtemplate(2, UpdateCategoryModalComponent_div_11_div_2_Template, 2, 0, \"div\", 11);\n    i0.ɵɵtemplate(3, UpdateCategoryModalComponent_div_11_div_3_Template, 2, 0, \"div\", 11);\n    i0.ɵɵtemplate(4, UpdateCategoryModalComponent_div_11_div_4_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1 == null ? null : _r1.errors == null ? null : _r1.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1 == null ? null : _r1.errors == null ? null : _r1.errors[\"pattern\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1 == null ? null : _r1.errors == null ? null : _r1.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1 == null ? null : _r1.errors == null ? null : _r1.errors[\"maxlength\"]);\n  }\n}\nexport class UpdateCategoryModalComponent {\n  get name() {\n    return this.form.get('name');\n  }\n  constructor() {\n    this.categoryToUpdate = new EventEmitter();\n    this.close = new EventEmitter();\n    this.form = new FormGroup({\n      name: new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(12), Validators.pattern('^[a-zA-Z0-9]+$')]))\n    });\n  }\n  update() {\n    this.categoryToUpdate.emit({\n      id: this.category?.id,\n      userId: this.category?.userId,\n      ...this.form.value\n    });\n    this.close.emit();\n  }\n  cancel() {\n    this.close.emit();\n  }\n}\nUpdateCategoryModalComponent.ɵfac = function UpdateCategoryModalComponent_Factory(t) {\n  return new (t || UpdateCategoryModalComponent)();\n};\nUpdateCategoryModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UpdateCategoryModalComponent,\n  selectors: [[\"app-update-category-modal\"]],\n  inputs: {\n    category: \"category\"\n  },\n  outputs: {\n    categoryToUpdate: \"categoryToUpdate\",\n    close: \"close\"\n  },\n  decls: 16,\n  vars: 3,\n  consts: [[1, \"modal\"], [1, \"modal-content\"], [3, \"ngSubmit\"], [\"updateCategoryForm\", \"ngForm\"], [1, \"input-group\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"click\"], [1, \"error-message\"], [4, \"ngIf\"]],\n  template: function UpdateCategoryModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Update category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function UpdateCategoryModalComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.update();\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\");\n      i0.ɵɵtext(8, \"Name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function UpdateCategoryModalComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.category.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, UpdateCategoryModalComponent_div_11_Template, 5, 4, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 8);\n      i0.ɵɵtext(13, \" Update \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function UpdateCategoryModalComponent_Template_button_click_14_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(15, \"Cancel\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n      const _r1 = i0.ɵɵreference(10);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.category.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (_r1 == null ? null : _r1.invalid) && (_r1 == null ? null : _r1.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.NgModel, i2.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAmCA,YAAY,QAAQ,eAAe;AAItE,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;ICe/CC,2BAAwC;IAAAA,wBAAQ;IAAAA,iBAAM;;;;;IACtDA,2BAAuC;IAAAA,yDAAyC;IAAAA,iBAAM;;;;;IACtFA,2BAAyC;IAAAA,iDAAiC;IAAAA,iBAAM;;;;;IAChFA,2BAAyC;IAAAA,kDAAkC;IAAAA,iBAAM;;;;;IAPrFA,+BAE0B;IAEtBA,qFAAsD;IACtDA,qFAAsF;IACtFA,qFAAgF;IAChFA,qFAAiF;IACrFA,iBAAM;;;;;IAJIA,eAAgC;IAAhCA,8FAAgC;IAChCA,eAA+B;IAA/BA,6FAA+B;IAC/BA,eAAiC;IAAjCA,+FAAiC;IACjCA,eAAiC;IAAjCA,+FAAiC;;;ADX3D,OAAM,MAAOC,4BAA4B;EAcrC,IAAIC,IAAI;IAAK,OAAO,IAAI,CAACC,IAAI,CAACC,GAAG,CAAC,MAAM,CAAC;EAAE;EAE3CC;IAdU,qBAAgB,GAAG,IAAIT,YAAY,EAAkB;IACrD,UAAK,GAAG,IAAIA,YAAY,EAAQ;IAE1C,SAAI,GAAG,IAAIE,SAAS,CAAC;MACjBI,IAAI,EAAE,IAAIL,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACO,OAAO,CAAC,CACzCP,UAAU,CAACQ,QAAQ,EACnBR,UAAU,CAACS,SAAS,CAAC,CAAC,CAAC,EACvBT,UAAU,CAACU,SAAS,CAAC,EAAE,CAAC,EACxBV,UAAU,CAACW,OAAO,CAAC,gBAAgB,CAAC,CACvC,CAAC;KACL,CAAC;EAIc;EAEhBC,MAAM;IACF,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAAC;MACvBC,EAAE,EAAE,IAAI,CAACC,QAAQ,EAAED,EAAE;MACrBE,MAAM,EAAE,IAAI,CAACD,QAAQ,EAAEC,MAAM;MAC7B,GAAG,IAAI,CAACb,IAAI,CAACc;KACE,CAAC;IACpB,IAAI,CAACC,KAAK,CAACL,IAAI,EAAE;EACrB;EAEAM,MAAM;IACF,IAAI,CAACD,KAAK,CAACL,IAAI,EAAE;EACrB;;AA7BSZ,4BAA4B;mBAA5BA,4BAA4B;AAAA;AAA5BA,4BAA4B;QAA5BA,4BAA4B;EAAAmB;EAAAC;IAAAN;EAAA;EAAAO;IAAAV;IAAAM;EAAA;EAAAK;EAAAC;EAAAC;EAAAC;IAAA;MCXzC1B,8BAAmB;MAEPA,+BAAe;MAAAA,iBAAK;MAExBA,kCAAyD;MAAtBA;QAAA,OAAY2B,YAAQ;MAAA,EAAC;MACpD3B,8BAAyB;MACdA,sBAAM;MAAAA,iBAAQ;MACrBA,mCAMa;MAFTA;QAAA;MAAA,EAA2B;MAJ/BA,iBAMa;MAEbA,+EAQM;MACVA,iBAAM;MAENA,kCAE4C;MACxCA,yBACJ;MAAAA,iBAAS;MAETA,kCAA2B;MAAnBA;QAAA,OAAS2B,YAAQ;MAAA,EAAC;MAAC3B,uBAAM;MAAAA,iBAAS;;;;;MArBlCA,eAA2B;MAA3BA,2CAA2B;MAK1BA,eAAkC;MAAlCA,6FAAkC;MAYvCA,eAAuC;MAAvCA,sCAAuC","names":["EventEmitter","FormControl","FormGroup","Validators","i0","UpdateCategoryModalComponent","name","form","get","constructor","compose","required","minLength","maxLength","pattern","update","categoryToUpdate","emit","id","category","userId","value","close","cancel","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\components\\update-category-modal\\update-category-modal.component.ts","C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\components\\update-category-modal\\update-category-modal.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { Category } from '../../interfaces/category.interface';\nimport { UpdateCategory } from '../../interfaces/update-category.interface';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n    selector: 'app-update-category-modal',\n    templateUrl: './update-category-modal.component.html',\n    styleUrls: ['./update-category-modal.component.scss']\n})\nexport class UpdateCategoryModalComponent {\n    @Input() category?: Category;\n    @Output() categoryToUpdate = new EventEmitter<UpdateCategory>();\n    @Output() close = new EventEmitter<void>();\n\n    form = new FormGroup({\n        name: new FormControl('', Validators.compose([\n            Validators.required,\n            Validators.minLength(4),\n            Validators.maxLength(12),\n            Validators.pattern('^[a-zA-Z0-9]+$'),\n        ]))\n    });\n\n    get name() { return this.form.get('name'); }\n\n    constructor() { }\n\n    update() {\n        this.categoryToUpdate.emit({\n            id: this.category?.id,\n            userId: this.category?.userId,\n            ...this.form.value\n        } as UpdateCategory);\n        this.close.emit();\n    }\n\n    cancel(): void {\n        this.close.emit();\n    }\n}","<div class=\"modal\">\n    <div class=\"modal-content\">\n        <h2>Update category</h2>\n      \n        <form #updateCategoryForm=\"ngForm\" (ngSubmit)=\"update()\">\n            <div class=\"input-group\">\n                <label>Name: </label>\n                <input\n                    type=\"text\"\n                    name=\"name\"\n                    placeholder=\"Name\"\n                    [(ngModel)]=\"category.name\"\n                    #name=\"ngModel\"\n                    required>\n\n                <div \n                    *ngIf=\"name?.invalid && name?.dirty\"\n                    class=\"error-message\">\n        \n                    <div *ngIf=\"name?.errors?.['required']\">Required</div>\n                    <div *ngIf=\"name?.errors?.['pattern']\">Only latin characters and numbers allowed</div>\n                    <div *ngIf=\"name?.errors?.['minlength']\">Min length equals to 4 characters</div>\n                    <div *ngIf=\"name?.errors?.['maxlength']\">Max length equals to 12 characters</div>\n                </div>\n            </div>\n    \n            <button\n                type=\"submit\"\n                [disabled]=\"updateCategoryForm.invalid\">\n                Update\n            </button>\n\n            <button (click)=\"cancel()\">Cancel</button>\n        </form>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
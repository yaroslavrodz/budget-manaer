{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nlet UpdateOperationModalComponent = class UpdateOperationModalComponent {\n  constructor(operationService, updateOperationDtoPipe) {\n    this.operationService = operationService;\n    this.updateOperationDtoPipe = updateOperationDtoPipe;\n    this.updatedOperation = new EventEmitter();\n    this.close = new EventEmitter();\n  }\n  update() {\n    this.operationService.update(this.updateOperationDtoPipe.transform(this.operation)).subscribe(() => {\n      this.updatedOperation.emit(this.operation);\n      this.close.emit();\n    }, err => console.error(err.error.message));\n  }\n  cancel() {\n    this.close.emit();\n  }\n  ngOnInit() {\n    const category = this.categories.find(item => item.id === this.operation.category?.id);\n    const saving = this.savings.find(item => item.id === this.operation.saving?.id);\n    this.operation.category = category;\n    this.operation.saving = saving;\n  }\n};\n__decorate([Input()], UpdateOperationModalComponent.prototype, \"operation\", void 0);\n__decorate([Input()], UpdateOperationModalComponent.prototype, \"types\", void 0);\n__decorate([Input()], UpdateOperationModalComponent.prototype, \"categories\", void 0);\n__decorate([Input()], UpdateOperationModalComponent.prototype, \"savings\", void 0);\n__decorate([Output()], UpdateOperationModalComponent.prototype, \"updatedOperation\", void 0);\n__decorate([Output()], UpdateOperationModalComponent.prototype, \"close\", void 0);\nUpdateOperationModalComponent = __decorate([Component({\n  selector: 'app-update-operation-modal',\n  templateUrl: './update-operation-modal.component.html',\n  styleUrls: ['./update-operation-modal.component.scss']\n})], UpdateOperationModalComponent);\nexport { UpdateOperationModalComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAUC,KAAK,EAAEC,MAAM,EAAEC,YAAY,QAAQ,eAAe;AAavE,IAAMC,6BAA6B,GAAnC,MAAMA,6BAA6B;EAQtCC,YACYC,gBAAkC,EAClCC,sBAA8C;IAD9C,qBAAgB,GAAhBD,gBAAgB;IAChB,2BAAsB,GAAtBC,sBAAsB;IALxB,qBAAgB,GAAG,IAAIJ,YAAY,EAAa;IAChD,UAAK,GAAG,IAAIA,YAAY,EAAQ;EAKtC;EAEJK,MAAM;IACF,IAAI,CAACF,gBAAgB,CAACE,MAAM,CACxB,IAAI,CAACD,sBAAsB,CAACE,SAAS,CAAC,IAAI,CAACC,SAAS,CAAC,CACxD,CAACC,SAAS,CACP,MAAK;MACD,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAAC,IAAI,CAACH,SAAS,CAAC;MAC1C,IAAI,CAACI,KAAK,CAACD,IAAI,EAAE;IACrB,CAAC,EACDE,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC,CAC1C;EACL;EAEAC,MAAM;IACF,IAAI,CAACL,KAAK,CAACD,IAAI,EAAE;EACrB;EAEAO,QAAQ;IACJ,MAAMC,QAAQ,GAAG,IAAI,CAACC,UAAU,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAK,IAAI,CAACf,SAAS,CAACW,QAAQ,EAAEI,EAAE,CAAC;IACtF,MAAMC,MAAM,GAAG,IAAI,CAACC,OAAO,CAACJ,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAK,IAAI,CAACf,SAAS,CAACgB,MAAM,EAAED,EAAE,CAAC;IAC/E,IAAI,CAACf,SAAS,CAACW,QAAQ,GAAGA,QAAS;IACnC,IAAI,CAACX,SAAS,CAACgB,MAAM,GAAGA,MAAO;EACnC;CACH;AAlCYE,YAAR3B,KAAK,EAAE,gEAAuB;AACtB2B,YAAR3B,KAAK,EAAE,4DAAkB;AACjB2B,YAAR3B,KAAK,EAAE,iEAAyB;AACxB2B,YAAR3B,KAAK,EAAE,8DAAoB;AAClB2B,YAAT1B,MAAM,EAAE,uEAAkD;AACjD0B,YAAT1B,MAAM,EAAE,4DAAkC;AANlCE,6BAA6B,eALzCJ,SAAS,CAAC;EACP6B,QAAQ,EAAE,4BAA4B;EACtCC,WAAW,EAAE,yCAAyC;EACtDC,SAAS,EAAE,CAAC,yCAAyC;CACxD,CAAC,GACW3B,6BAA6B,CAmCzC;SAnCYA,6BAA6B","names":["Component","Input","Output","EventEmitter","UpdateOperationModalComponent","constructor","operationService","updateOperationDtoPipe","update","transform","operation","subscribe","updatedOperation","emit","close","err","console","error","message","cancel","ngOnInit","category","categories","find","item","id","saving","savings","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\operations\\components\\update-operation-modal\\update-operation-modal.component.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { Operation } from '../../operation.model';\nimport { Category } from 'src/app/modules/categories/category.model';\nimport { Saving } from 'src/app/modules/savings/saving.model';\nimport { OperationService } from '../../operations.service';\nimport { UpdateOperationDtoPipe } from '../../pipes/update-operation-dto.pipe';\n\n@Component({\n    selector: 'app-update-operation-modal',\n    templateUrl: './update-operation-modal.component.html',\n    styleUrls: ['./update-operation-modal.component.scss']\n})\nexport class UpdateOperationModalComponent implements OnInit {\n    @Input() operation!: Operation;\n    @Input() types!: string[];\n    @Input() categories!: Category[];\n    @Input() savings!: Saving[];\n    @Output() updatedOperation = new EventEmitter<Operation>();\n    @Output() close = new EventEmitter<void>();\n\n    constructor(\n        private operationService: OperationService,\n        private updateOperationDtoPipe: UpdateOperationDtoPipe\n    ) { }\n\n    update(): void {\n        this.operationService.update(\n            this.updateOperationDtoPipe.transform(this.operation)\n        ).subscribe(\n            () => {\n                this.updatedOperation.emit(this.operation);\n                this.close.emit();\n            },\n            err => console.error(err.error.message)\n        );\n    }\n\n    cancel(): void {\n        this.close.emit();\n    }\n\n    ngOnInit(): void {\n        const category = this.categories.find(item => item.id === this.operation.category?.id);\n        const saving = this.savings.find(item => item.id === this.operation.saving?.id);\n        this.operation.category = category!;\n        this.operation.saving = saving!;\n    }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
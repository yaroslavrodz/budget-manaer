{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Validators, FormControl, FormGroup } from '@angular/forms';\nlet CreateSavingModalComponent = class CreateSavingModalComponent {\n  get name() {\n    return this.createSavingForm.get('name');\n  }\n  get amount() {\n    return this.createSavingForm.get('amount');\n  }\n  constructor(savingService) {\n    this.savingService = savingService;\n    this.createdSaving = new EventEmitter();\n    this.close = new EventEmitter();\n    this.createSavingForm = new FormGroup({\n      name: new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(12), Validators.pattern('^[a-zA-Z0-9]+$')])),\n      type: new FormControl('', Validators.compose([Validators.required])),\n      amount: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[0-9]+([.]{1}[0-9]{1,2})?$')]))\n    });\n  }\n  create() {\n    this.savingService.create(this.createSavingForm.value).subscribe(saving => {\n      this.createdSaving.emit(saving);\n      this.close.emit();\n    }, err => console.error(err.error.message));\n  }\n  cancel() {\n    this.close.emit();\n  }\n};\n__decorate([Input()], CreateSavingModalComponent.prototype, \"types\", void 0);\n__decorate([Output()], CreateSavingModalComponent.prototype, \"createdSaving\", void 0);\n__decorate([Output()], CreateSavingModalComponent.prototype, \"close\", void 0);\nCreateSavingModalComponent = __decorate([Component({\n  selector: 'app-create-saving-modal',\n  templateUrl: './create-saving-modal.component.html',\n  styleUrls: ['./create-saving-modal.component.scss']\n})], CreateSavingModalComponent);\nexport { CreateSavingModalComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,EAAEC,MAAM,EAAEC,YAAY,QAAO,eAAe;AACrE,SAASC,UAAU,EAAEC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAW5D,IAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAqBnC,IAAIC,IAAI;IAAK,OAAO,IAAI,CAACC,gBAAgB,CAACC,GAAG,CAAC,MAAM,CAAC;EAAE;EACvD,IAAIC,MAAM;IAAK,OAAO,IAAI,CAACF,gBAAgB,CAACC,GAAG,CAAC,QAAQ,CAAC;EAAE;EAE3DE,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAtBvB,kBAAa,GAAG,IAAIV,YAAY,EAAU;IAC1C,UAAK,GAAG,IAAIA,YAAY,EAAQ;IAE1C,qBAAgB,GAAG,IAAIG,SAAS,CAAC;MAC7BE,IAAI,EAAE,IAAIH,WAAW,CAAC,EAAE,EAAED,UAAU,CAACU,OAAO,CAAC,CACzCV,UAAU,CAACW,QAAQ,EACnBX,UAAU,CAACY,SAAS,CAAC,CAAC,CAAC,EACvBZ,UAAU,CAACa,SAAS,CAAC,EAAE,CAAC,EACxBb,UAAU,CAACc,OAAO,CAAC,gBAAgB,CAAC,CACvC,CAAC,CAAC;MACHC,IAAI,EAAE,IAAId,WAAW,CAAC,EAAE,EAAED,UAAU,CAACU,OAAO,CAAC,CACzCV,UAAU,CAACW,QAAQ,CACtB,CAAC,CAAC;MACHJ,MAAM,EAAE,IAAIN,WAAW,CAAC,EAAE,EAAED,UAAU,CAACU,OAAO,CAAC,CAC3CV,UAAU,CAACW,QAAQ,EACnBX,UAAU,CAACc,OAAO,CAAC,6BAA6B,CAAC,CACpD,CAAC;KACL,CAAC;EAKkD;EAEpDE,MAAM;IACF,IAAI,CAACP,aAAa,CAACO,MAAM,CAAC,IAAI,CAACX,gBAAgB,CAACY,KAAmC,CAAC,CAACC,SAAS,CAC1FC,MAAM,IAAG;MACL,IAAI,CAACC,aAAa,CAACC,IAAI,CAACF,MAAM,CAAC;MAC/B,IAAI,CAACG,KAAK,CAACD,IAAI,EAAE;IACrB,CAAC,EACDE,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC,CAC1C;EACL;EAEAC,MAAM;IACF,IAAI,CAACL,KAAK,CAACD,IAAI,EAAE;EACrB;CACH;AAtCYO,YAAR/B,KAAK,EAAE,yDAAkB;AAChB+B,YAAT9B,MAAM,EAAE,iEAA4C;AAC3C8B,YAAT9B,MAAM,EAAE,yDAAkC;AAHlCK,0BAA0B,eALtCP,SAAS,CAAC;EACPiC,QAAQ,EAAE,yBAAyB;EACnCC,WAAW,EAAE,sCAAsC;EACnDC,SAAS,EAAE,CAAC,sCAAsC;CACrD,CAAC,GACW5B,0BAA0B,CAuCtC;SAvCYA,0BAA0B","names":["Component","Input","Output","EventEmitter","Validators","FormControl","FormGroup","CreateSavingModalComponent","name","createSavingForm","get","amount","constructor","savingService","compose","required","minLength","maxLength","pattern","type","create","value","subscribe","saving","createdSaving","emit","close","err","console","error","message","cancel","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\savings\\components\\create-saving-modal\\create-saving-modal.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter} from '@angular/core';\nimport { Validators, FormControl, FormGroup } from '@angular/forms';\n\nimport { Saving } from '../../saving.model';\nimport { SavingService } from '../../savings.service';\nimport { CreateSavingDto } from '../../dto/create-saving.dto';\n\n@Component({\n    selector: 'app-create-saving-modal',\n    templateUrl: './create-saving-modal.component.html',\n    styleUrls: ['./create-saving-modal.component.scss']\n})\nexport class CreateSavingModalComponent {\n    @Input() types!: string[];\n    @Output() createdSaving = new EventEmitter<Saving>();\n    @Output() close = new EventEmitter<void>();\n\n    createSavingForm = new FormGroup({\n        name: new FormControl('', Validators.compose([\n            Validators.required,\n            Validators.minLength(4),\n            Validators.maxLength(12),\n            Validators.pattern('^[a-zA-Z0-9]+$'),\n        ])),\n        type: new FormControl('', Validators.compose([\n            Validators.required,\n        ])),\n        amount: new FormControl('', Validators.compose([\n            Validators.required,\n            Validators.pattern('^[0-9]+([.]{1}[0-9]{1,2})?$'),\n        ]))\n    });\n\n    get name() { return this.createSavingForm.get('name'); }\n    get amount() { return this.createSavingForm.get('amount'); }\n\n    constructor(private savingService: SavingService) { }\n\n    create(): void {\n        this.savingService.create(this.createSavingForm.value as unknown as CreateSavingDto).subscribe(\n            saving => {\n                this.createdSaving.emit(saving);\n                this.close.emit();\n            },\n            err => console.error(err.error.message)\n        );\n    }\n    \n    cancel(): void {\n        this.close.emit();\n    }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators, FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../category.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CreateCategoryModalComponent_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateCategoryModalComponent_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Only latin characters and numbers allowed\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateCategoryModalComponent_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Min length equals to 4 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateCategoryModalComponent_div_9_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Max length equals to 12 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateCategoryModalComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, CreateCategoryModalComponent_div_9_div_1_Template, 2, 0, \"div\", 9);\n    i0.ɵɵtemplate(2, CreateCategoryModalComponent_div_9_div_2_Template, 2, 0, \"div\", 9);\n    i0.ɵɵtemplate(3, CreateCategoryModalComponent_div_9_div_3_Template, 2, 0, \"div\", 9);\n    i0.ɵɵtemplate(4, CreateCategoryModalComponent_div_9_div_4_Template, 2, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors.pattern);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors.minlength);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name == null ? null : ctx_r0.name.errors == null ? null : ctx_r0.name.errors.maxlength);\n  }\n}\nexport class CreateCategoryModalComponent {\n  get name() {\n    return this.createCategoryForm.get('name');\n  }\n  constructor(categoryService) {\n    this.categoryService = categoryService;\n    this.createdCategory = new EventEmitter();\n    this.close = new EventEmitter();\n    this.createCategoryForm = new FormGroup({\n      name: new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(12), Validators.pattern('^[a-zA-Z0-9]+$')]))\n    });\n  }\n  create() {\n    this.categoryService.create(this.createCategoryForm.value).subscribe(category => {\n      this.createdCategory.emit(category);\n      this.close.emit();\n    }, err => console.error(err.error.message));\n  }\n  cancel() {\n    this.close.emit();\n  }\n}\nCreateCategoryModalComponent.ɵfac = function CreateCategoryModalComponent_Factory(t) {\n  return new (t || CreateCategoryModalComponent)(i0.ɵɵdirectiveInject(i1.CategoryService));\n};\nCreateCategoryModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateCategoryModalComponent,\n  selectors: [[\"app-create-category-modal\"]],\n  outputs: {\n    createdCategory: \"createdCategory\",\n    close: \"close\"\n  },\n  decls: 14,\n  vars: 3,\n  consts: [[1, \"modal\"], [1, \"modal-content\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Name\", \"formControlName\", \"name\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"click\"], [1, \"error-message\"], [4, \"ngIf\"]],\n  template: function CreateCategoryModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"Create category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateCategoryModalComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.create();\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n      i0.ɵɵtext(7, \"Name: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 4);\n      i0.ɵɵtemplate(9, CreateCategoryModalComponent_div_9_Template, 5, 4, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵtext(11, \" Create \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function CreateCategoryModalComponent_Template_button_click_12_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(13, \"Cancel\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.createCategoryForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", (ctx.name == null ? null : ctx.name.invalid) && (ctx.name == null ? null : ctx.name.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.createCategoryForm.invalid);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA4BA,YAAY,QAAO,eAAe;AAC9D,SAASC,UAAU,EAAEC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;;;;;;;ICgB/CC,2BAAoC;IAAAA,wBAAQ;IAAAA,iBAAM;;;;;IAClDA,2BAAmC;IAAAA,yDAAyC;IAAAA,iBAAM;;;;;IAClFA,2BAAqC;IAAAA,iDAAiC;IAAAA,iBAAM;;;;;IAC5EA,2BAAqC;IAAAA,kDAAkC;IAAAA,iBAAM;;;;;IAPjFA,8BAE0B;IAEtBA,mFAAkD;IAClDA,mFAAkF;IAClFA,mFAA4E;IAC5EA,mFAA6E;IACjFA,iBAAM;;;;IAJIA,eAA4B;IAA5BA,mHAA4B;IAC5BA,eAA2B;IAA3BA,kHAA2B;IAC3BA,eAA6B;IAA7BA,oHAA6B;IAC7BA,eAA6B;IAA7BA,oHAA6B;;;ADRvD,OAAM,MAAOC,4BAA4B;EAarC,IAAIC,IAAI;IAAK,OAAO,IAAI,CAACC,kBAAkB,CAACC,GAAG,CAAC,MAAM,CAAC;EAAE;EAEzDC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAdzB,oBAAe,GAAG,IAAIV,YAAY,EAAY;IAC9C,UAAK,GAAG,IAAIA,YAAY,EAAQ;IAE1C,uBAAkB,GAAG,IAAIG,SAAS,CAAC;MAC/BG,IAAI,EAAE,IAAIJ,WAAW,CAAC,EAAE,EAAED,UAAU,CAACU,OAAO,CAAC,CACzCV,UAAU,CAACW,QAAQ,EACnBX,UAAU,CAACY,SAAS,CAAC,CAAC,CAAC,EACvBZ,UAAU,CAACa,SAAS,CAAC,EAAE,CAAC,EACxBb,UAAU,CAACc,OAAO,CAAC,gBAAgB,CAAC,CACvC,CAAC;KACL,CAAC;EAIsD;EAExDC,MAAM;IACF,IAAI,CAACN,eAAe,CAACM,MAAM,CAAC,IAAI,CAACT,kBAAkB,CAACU,KAA0B,CAAC,CAACC,SAAS,CACrFC,QAAQ,IAAG;MACP,IAAI,CAACC,eAAe,CAACC,IAAI,CAACF,QAAQ,CAAC;MACnC,IAAI,CAACG,KAAK,CAACD,IAAI,EAAE;IACrB,CAAC,EACDE,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC,CAC1C;EACL;EAEAC,MAAM;IACF,IAAI,CAACL,KAAK,CAACD,IAAI,EAAE;EACrB;;AA7BShB,4BAA4B;mBAA5BA,4BAA4B;AAAA;AAA5BA,4BAA4B;QAA5BA,4BAA4B;EAAAuB;EAAAC;IAAAT;IAAAE;EAAA;EAAAQ;EAAAC;EAAAC;EAAAC;IAAA;MCZzC7B,8BAAmB;MAEPA,+BAAe;MAAAA,iBAAK;MAExBA,+BAA6D;MAAtBA;QAAA,OAAY8B,YAAQ;MAAA,EAAC;MACxD9B,8BAAyB;MACdA,sBAAM;MAAAA,iBAAQ;MAErBA,2BAG2B;MAE3BA,6EAQM;MACVA,iBAAM;MAENA,kCAE4C;MACxCA,yBACJ;MAAAA,iBAAS;MAETA,kCAA2B;MAAnBA;QAAA,OAAS8B,YAAQ;MAAA,EAAC;MAAC9B,uBAAM;MAAAA,iBAAS;;;MA1BxCA,eAAgC;MAAhCA,kDAAgC;MAUzBA,eAAkC;MAAlCA,iHAAkC;MAYvCA,eAAuC;MAAvCA,yDAAuC","names":["EventEmitter","Validators","FormControl","FormGroup","i0","CreateCategoryModalComponent","name","createCategoryForm","get","constructor","categoryService","compose","required","minLength","maxLength","pattern","create","value","subscribe","category","createdCategory","emit","close","err","console","error","message","cancel","selectors","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\components\\create-category-modal\\create-category-modal.component.ts","C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\modules\\categories\\components\\create-category-modal\\create-category-modal.component.html"],"sourcesContent":["import { Component, Output, EventEmitter} from '@angular/core';\nimport { Validators, FormControl, FormGroup } from '@angular/forms';\n\nimport { Category } from '../../category.model';\nimport { CategoryService } from '../../category.service';\nimport { CreateCategoryDto } from '../../dto/create-category.dto';\n\n@Component({\n    selector: 'app-create-category-modal',\n    templateUrl: './create-category-modal.component.html',\n    styleUrls: ['./create-category-modal.component.scss']\n})\nexport class CreateCategoryModalComponent {\n    @Output() createdCategory = new EventEmitter<Category>();\n    @Output() close = new EventEmitter<void>();\n\n    createCategoryForm = new FormGroup({\n        name: new FormControl('', Validators.compose([\n            Validators.required,\n            Validators.minLength(4),\n            Validators.maxLength(12),\n            Validators.pattern('^[a-zA-Z0-9]+$'),\n        ]))\n    });\n\n    get name() { return this.createCategoryForm.get('name'); }\n\n    constructor(private categoryService: CategoryService) { }\n\n    create(): void {\n        this.categoryService.create(this.createCategoryForm.value as CreateCategoryDto).subscribe(\n            category => {\n                this.createdCategory.emit(category);\n                this.close.emit();\n            },\n            err => console.error(err.error.message)\n        );\n    }\n    \n    cancel(): void {\n        this.close.emit();\n    }\n}","<div class=\"modal\">\n    <div class=\"modal-content\">\n        <h2>Create category</h2>\n      \n        <form [formGroup]=\"createCategoryForm\" (ngSubmit)=\"create()\">\n            <div class=\"input-group\">\n                <label>Name: </label>\n                \n                <input\n                    type=\"text\"\n                    placeholder=\"Name\"\n                    formControlName=\"name\">\n\n                <div \n                    *ngIf=\"name?.invalid && name?.dirty\"\n                    class=\"error-message\">\n\n                    <div *ngIf=\"name?.errors?.required\">Required</div>\n                    <div *ngIf=\"name?.errors?.pattern\">Only latin characters and numbers allowed</div>\n                    <div *ngIf=\"name?.errors?.minlength\">Min length equals to 4 characters</div>\n                    <div *ngIf=\"name?.errors?.maxlength\">Max length equals to 12 characters</div>\n                </div>\n            </div>\n    \n            <button\n                type=\"submit\"\n                [disabled]=\"createCategoryForm.invalid\">\n                Create\n            </button>\n\n            <button (click)=\"cancel()\">Cancel</button>\n        </form>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
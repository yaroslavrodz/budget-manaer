{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nlet AppComponent = class AppComponent {\n  constructor(authService, savingService) {\n    this.authService = authService;\n    this.savingService = savingService;\n    this.title = 'Budget manager';\n    this.user = null;\n    this.balance = null;\n    this.destroy$ = new Subject();\n  }\n  logout() {\n    this.authService.logout();\n  }\n  ngOnInit() {\n    this.authService.currentUser$.pipe(takeUntil(this.destroy$)).subscribe(user => this.user = user);\n    this.savingService.balance$.pipe(takeUntil(this.destroy$)).subscribe(balance => this.balance = balance);\n    if (this.user) {\n      this.savingService.getBalance().subscribe();\n    }\n  }\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,OAAO,QAAQ,MAAM;AAC9B,SAASC,SAAS,QAAQ,gBAAgB;AAWnC,IAAMC,YAAY,GAAlB,MAAMA,YAAY;EAOrBC,YACYC,WAAwB,EACxBC,aAA4B;IAD5B,gBAAW,GAAXD,WAAW;IACX,kBAAa,GAAbC,aAAa;IARzB,UAAK,GAAG,gBAAgB;IACxB,SAAI,GAAgB,IAAI;IACxB,YAAO,GAAmB,IAAI;IAE9B,aAAQ,GAAG,IAAIL,OAAO,EAAE;EAKpB;EAEJM,MAAM;IACF,IAAI,CAACF,WAAW,CAACE,MAAM,EAAE;EAC7B;EAEAC,QAAQ;IACJ,IAAI,CAACH,WAAW,CAACI,YAAY,CAACC,IAAI,CAC9BR,SAAS,CAAC,IAAI,CAACS,QAAQ,CAAC,CAAC,CAACC,SAAS,CAACC,IAAI,IAAI,IAAI,CAACA,IAAI,GAAGA,IAAI,CAAC;IAEjE,IAAI,CAACP,aAAa,CAACQ,QAAQ,CAACJ,IAAI,CAC5BR,SAAS,CAAC,IAAI,CAACS,QAAQ,CAAC,CAAC,CAACC,SAAS,CAACG,OAAO,IAAI,IAAI,CAACA,OAAO,GAAGA,OAAO,CAAC;IAE1E,IAAI,IAAI,CAACF,IAAI,EAAE;MACX,IAAI,CAACP,aAAa,CAACU,UAAU,EAAE,CAACJ,SAAS,EAAE;;EAEnD;EAEAK,WAAW;IACP,IAAI,CAACN,QAAQ,CAACO,IAAI,CAAC,IAAI,CAAC;IACxB,IAAI,CAACP,QAAQ,CAACQ,QAAQ,EAAE;EAC5B;CACH;AAhCYhB,YAAY,eALxBH,SAAS,CAAC;EACPoB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,sBAAsB;CACrC,CAAC,GACWnB,YAAY,CAgCxB;SAhCYA,YAAY","names":["Component","Subject","takeUntil","AppComponent","constructor","authService","savingService","logout","ngOnInit","currentUser$","pipe","destroy$","subscribe","user","balance$","balance","getBalance","ngOnDestroy","next","complete","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\dh123\\OneDrive\\Рабочий стол\\Новая папка (8)\\client\\src\\app\\app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { User } from './modules/user/user.model';\nimport { AuthService } from './modules/auth/auth.service';\nimport { SavingService } from './modules/savings/savings.service';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n    title = 'Budget manager';\n    user: User | null = null;\n    balance: number | null  = null;\n\n    destroy$ = new Subject();\n\n    constructor(\n        private authService: AuthService,\n        private savingService: SavingService,\n    ) { }\n\n    logout(): void {\n        this.authService.logout();\n    }\n\n    ngOnInit(): void {\n        this.authService.currentUser$.pipe(\n            takeUntil(this.destroy$)).subscribe(user => this.user = user);\n            \n        this.savingService.balance$.pipe(\n            takeUntil(this.destroy$)).subscribe(balance => this.balance = balance);\n\n        if (this.user) {\n            this.savingService.getBalance().subscribe()\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next(true);\n        this.destroy$.complete();\n    }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}